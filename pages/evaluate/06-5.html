<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/images/main-pic/page-tag-pic.ico" type="image/x-icon" />
    <link rel="stylesheet" href="./reset.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@300;400;500;600&family=Noto+Sans+TC:wght@300;400;500;700;900&family=Noto+Sans:wght@200;300;400;500;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/pages/evaluate/06-5-css.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <title>結帳 | RENUBOX</title>
</head>
<body>
     <!-- chat-btn -->
  <div class="chat-btn">
    <a href="#"><img src="/images/main-pic/chat-btn.png" alt=""></a>
</div>

<input type="checkbox" name="" id="menu-switch">
<!-- nav-bar -->
<div class="header">
    <!-- logo -->
    <div class="logo">
        <a href="/index.html"><img src="/images/main-pic/logo-first.png" alt="renubox-logo"></a>
    </div>
    <!-- 漢堡 -->
    <label for="menu-switch" class="hb">
        <span></span>
        <span></span>
        <span></span>
    </label>
    <!-- 選單 -->
    <nav class="main-nav">
        <a href="./pages/evaluate/06.html">智能評估</a>
        <a href="./05-1.html">找功能</a>
        <a href="./07.html">所有商品</a>
        <a href="./08.html">我們的承諾</a>
        <a href="./10.html">健康專欄</a>
        <a href="./pages/projects/09.html">營養管理計畫</a>
    </nav>
    <!-- icons -->
    <div class="nav-icon">
        <a href="#">
            <img src="/images/main-pic/member_icon.png" alt="nav-mem-icon">
        </a>
        <a href="./pages/evaluate/06-5.html" class="shop-icon">
            <img src="/images/main-pic/shopping_icon.png" alt="nav-cart-icon">
        </a>
    </div>
</div>
<!-- navbar-scroll -->
<script>
    $(document).ready(function(){
        $(window).scroll(function(){
        var scroll = $(window).scrollTop();
        if (scroll > 100) {
            $(".header").css("background" , "#eae6e398");
        }

        else{
            $(".header").css("background" , "transparent");  	
        }
    })
    })
</script>

<div class="cart">
        <div class="cart-title">
            <h1>我的RENUBOX
            <div class="cartIconDIV"></div>
            </h1>

        </div>
    
    <div style="clear:both;"></div>
        
        <div class="cartmain">
            <table id="cartTable">

                <thead>
                    <tr class="tr-title">
                         <th>
                            <label for="fl select-all">
                                <input type="checkbox" class="check-all check"/>
                                <span><a href="javascript:void(0)" class="selectAll">全選</a></span>
                            </label>
                        </th>
                        <th>商 品</th>
                        <th>價 格</th>
                        <th>數 量</th>
                        <th>金 額</th>
                    </tr>
                </thead>

                <tbody>
                    <tr>
                        <td class="checkbox">
                            <input type="checkbox" class="check-one check"/>
                        </td>
                        <td class="goods">
                            <img src="/images/sub2-pic/vitamin-b.jpeg" alt="維生素B群"/>
                            <span><a href="./05-3.html" class="goodsTitle">維生素B群錠</a></span><br/>
                        </td>
                        <td class="price">480</td>
                        <td class="count">
                            <span class="reduce">-</span>
                            <input type="text" class="count-input" value="1"/>
                            <span class="add"> + </span>
                        </td>
                        <td class="subtotal">480</td>
                        <td class="opration">
                            <span class="deleteOne">删 除</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="checkbox">
                            <input type="checkbox" class="check-one check"/>
                        </td>
                        <td class="goods">
                            <img src="/images/sub2-pic/vitamin-cranberry.jpeg" alt="蔓越莓錠"/>
                            <span><a href="./05-3.html" class="goodsTitle">蔓越莓錠</a></span><br/>
                        </td>
                        <td class="price">480</td>
                        <td class="count">
                            <span class="reduce"> - </span>
                            <input type="text" class="count-input" value="1"/>
                            <span class="add"> + </span>
                        </td>
                        <td class="subtotal">480</td>
                        <td class="opration">
                            <span class="deleteOne">删 除</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="checkbox">
                            <input type="checkbox" class="check-one check"/>
                        </td>
                        <td class="goods">
                            <img src="/images/sub2-pic/vitamin-plus.jpeg" alt="綜合維他命"/>
                            <span><a href="./05-3.html" class="goodsTitle">綜合維他命</a></span><br/>
                        </td>
                        <td class="price">480</td>
                        <td class="count">
                            <span class="reduce"> - </span>
                            <input type="text" class="count-input" value="1"/>
                            <span class="add"> + </span>
                        </td>
                        <td class="subtotal">480</td>
                        <td class="opration">
                            <span class="deleteOne">删 除</span>
                        </td>
                    </tr>
                
                    
                </tbody>
            </table>
            
        </div>
        <div class="cartFooter" id="cartFooter">
            <div class="selall fl">
                <label for="fl select-all">
                    <input type="checkbox" class="check-all check"/>
                    <span><a href="javascript:void(0)" class="selectAll">全選</a></span>
                </label>
            </div>
            <div class="fr total">總共:NT$<span id="priceTotal">0</span></div>
            <div class="fr selected" id="selected">
                商品件數
                <span id="selectedTotal">0</span>件
                <span class="arrow up">△</span>
                <span class="arrow down">▽</span>
            </div>
            <div class="selected-view">
                <div id="selectedViewList" class="clearfix">
                    
                </div>
                <span class="arrow">◆<span>◆</span></span>
            </div>
        </div>
</div>
<script>
    window.onload=function(){
	//同時document.getElementsByClassName的方法!!；
	if(!document.getElementsByClassName){
		document.getElementsByClassName=function(cls){
			var ret=[];
			var els=document.getElementsByTagName('*');
			for (var i = 0; i < els.length; i++) {
				if(els[i].className===cls
				 || els[i].className.indexOf(cls +' ')>=0
				  || els[i].className.indexOf(' '+cls)>=0 
				  || els[i].className.indexOf(' '+cls +' ')>=0){
					ret.push(els[i]);
				}
			};
			return ret;
		}
	}
	var cartTable=document.getElementById('cartTable');
	var tr=cartTable.children[1].rows; //children節點;
	var checkInputs=document.getElementsByClassName('check');
	var checkAllInput=document.getElementsByClassName('check-all');
	var selectedTotal=document.getElementById('selectedTotal');
	var priceTotal=document.getElementById('priceTotal');
	var selected=document.getElementById('selected');
	var cartFooter=document.getElementById('cartFooter');
	var selectedViewList=document.getElementById('selectedViewList');
	var multiDelete=document.getElementById('multiDelete');
	var allDelete=document.getElementById('allDelete');
	var selectAll=document.getElementsByClassName('selectAll');

	//選擇事件；
	for (var i = 0; i < checkInputs.length; i++) {
		checkInputs[i].onclick=function(){
			if (this.className==='check-all check') { //全選；
				for(var j=0;j<checkInputs.length;j++){
					checkInputs[j].checked=this.checked;
				}
			};
			if(this.checked==false){
				for(var k=0;k<checkAllInput.length;k++){
					checkAllInput[k].checked=false;
				}
			}
			getTotal();
		}
	};
	selectAll[0].onclick=selectAll[1].onclick=function(){
		for(var k=0;k<checkAllInput.length;k++){
			if(checkAllInput[k].checked){
				checkAllInput[k].checked=false;
				
			}else{
				checkAllInput[k].checked=true;
			}
		}
		for(var j=0;j<checkInputs.length;j++){
			checkInputs[j].checked=checkAllInput[0].checked;
		}
		getTotal();
	}

	//計算；
	function getTotal(){
		var selected=0;
		var price=0;
		var HTMLstr='';
		for (var i = 0; i < tr.length; i++) {
			var perCount=tr[i].getElementsByTagName('input')[1].value;
			if(tr[i].getElementsByTagName('input')[0].checked){
				tr[i].className="on";
				selected+=parseInt( tr[i].getElementsByTagName('input')[1].value);
				price+=parseFloat( tr[i].cells[4].innerHTML );
				HTMLstr+='<div><img src="'+tr[i].getElementsByTagName('img')[0].src+'"/><span class="selCount">'+perCount+'</span><span class="del" index="'+i+'">刪除</span></div>'
			}else{
				tr[i].className=" ";
			}
		};
		selectedTotal.innerHTML=selected;
		priceTotal.innerHTML=price;
		selectedViewList.innerHTML=HTMLstr;
		//如果是0??；
		if(selected==0){
			cartFooter.className="cartFooter";
		}
	}

	//已經選擇顯示隱藏；
	selected.onclick=function(){
		if(cartFooter.className=='cartFooter'){
			if(selectedTotal.innerHTML!=0){
				cartFooter.className='cartFooter show';
			}
		}else{
			cartFooter.className="cartFooter";
		}
	}

	//取消選擇 ---> 事件
	selectedViewList.onclick=function(e){
		e=e||window.event;
		var el=e.srcElement;
		if(el.className=="del"){
			var index=el.getAttribute('index');
			var input=tr[index].getElementsByTagName('input')[0];
			input.checked=false;
			input.onclick();
		}
	}

	//加減事件；
	for (var i = 0; i < tr.length; i++) {
	//加减按鈕；
		tr[i].onclick=function(e){
			e=e||window.event;
    		document.onselectstart=new Function("event.returnValue=false;");
			var el=e.target||e.srcElement;
			var cls=el.className;
			var input=this.getElementsByTagName('input')[1];
			var val=parseInt(input.value);
			var reduce=this.getElementsByTagName('span')[3];
			switch(cls){
				case 'add':
				     input.value=val+1;
				     reduce.innerHTML='刪 除';
				     getSubtotal(this);
				     break;
				case 'reduce':
				     if(val>1){
				     	input.value=val-1;
				     	getSubtotal(this);
				     }
				     if(input.value<=1){
				     	reduce.innerHTML='刪 除';
				     }
				     break;
				case 'deleteOne':
				//單行删除；
				     var conf=confirm('確定要刪除嗎？');
				     if(conf){
				     	this.parentNode.removeChild(this);
				     }
				     break;
				default:
				     break;
			}
			getTotal();
		}
		//input輸入事件；
		tr[i].getElementsByTagName('input')[1].onkeyup=function(){
			var val=parseInt(this.value);
			var tr=this.parentNode.parentNode;
			var reduce=tr.getElementsByTagName('span')[3];
			if(isNaN(val)||val<1){
				val=1;
			}
			this.value=val; //輸入控制
			if(val<=1){
				reduce.innerHTML="";
			}else{
				reduce.innerHTML="-";
			}
			getSubtotal(tr);
			getTotal();
		}
	};
	//金額小計
	function getSubtotal(tr){
		var tds=tr.cells;
		var price=parseFloat(tds[2].innerHTML);
		var count=tr.getElementsByTagName('input')[1].value;
		var subTotal=parseFloat(price*count);
		tds[4].innerHTML=subTotal;
	}

	//删除；
	multiDelete.onclick=function(){
		if(selectedTotal.innerHTML!='0'){
			var conf=confirm('確定要刪除嗎？');
			if(conf){
				cartDel();
				getTotal();
			}
		}
	}
	allDelete.onclick=function(){
		var conf=confirm('確定要清空購物車嗎？');
		if(conf){
			checkAllInput[0].checked=true;
			checkAllInput[0].onclick();
			cartDel();
			getTotal();
		}
	}
	function cartDel(){
		for (var i = 0; i < tr.length; i++) {
			var input=tr[i].getElementsByTagName('input')[0];
			if (input.checked) {
				tr[i].parentNode.removeChild(tr[i]);
				i--; //!!删除時注意i 的變化!!；
			};
		};
	}
}
</script>

<div class="pay-wrap">
    <div class="title">
        <h2>付款方式</h2>
        <p>請選擇付款方式</p>
    </div>
    <div class="payment-methods">
        <div class="methods">
            <div class="method-pic">
              <img src="/images/sub2-pic/creditcard.png" alt="信用卡付款">  
            </div>
            
            <span>信用卡</span>
        </div>
        <div class="methods">
            <div class="method-pic">
                <img src="/images/sub2-pic/LINE-Pay(h)_W238_n.png" alt="LINE PAY">
            </div>
           
            <span>LINE PAY</span>
        </div>
        <div class="methods">
            <div class="method-pic">
                <img src="/images/sub2-pic/getAndPay.jpg" alt="貨到付款">
            </div>
            
            <span>貨到付款</span>
        </div>
    </div>
    <div class="info">
        <div class="billing-info">
            <h4>付款資訊</h4>
            <div>
                <label for="full-name">姓名</label>
                <input type="text" id="full-name" placeholder="請輸入全名">
            </div>
            <div>
                <div>
                <label for="country">收件縣市</label>
                <select id="country">
                    <option value="TPC">台北市</option>
                    <option value="NPC">新北市</option>
                </select>
            </div>
                <input type="text" id="address" placeholder="郵遞區號 行政區">
            </div>
            <div>
                <div>
                    <label for="road">路名</label>
                    <input type="text" id="road" placeholder="詳細地址">
                </div>
                <div>
                    <label for="floor">樓層</label>
                    <input type="text" id="floor" placeholder="幾樓之幾">
                </div>
            </div>
            
        </div>
        <div class="card-info">
            <h4>信用卡資訊</h4>
            <div>
                <div>
                    <label for="card-number">信用卡號</label>
                    <input type="number" id="card-number" placeholder="1234   5678   2234   5678">
                </div>
                
            </div>
            <div>
                <label for="holder-name">持卡人姓名</label>
                <input type="text" id="holder-name" placeholder="請輸入全名">
            </div>
            <div>
                <label for="exp">有效日期</label>
                <input type="month" id="exp" value="2021-05">
            </div>
            <div>
                <div>
                    <label for="cvv">有效密碼</label>
                    <input type="text" id="cvv" placeholder="123">
                </div>
            </div>
        </div>
        
    </div>
</div>
<div class="confirm">
    <input type="submit" value="確認">
</div>

    
  
<!-- footer -->
<div class="main-footer">

    <!-- footer-icons -->
    <div class="footer-icons">
       <a href="#"><img src="/images/main-pic/fb-icon.png" alt="RENUBOX的臉書"></a>
       <a href="#"><img src="/images/main-pic/ig-icon.png" alt="RENUBOX的IG"></a>
       <a href="#"><img src="/images/main-pic/line_icon.png" alt="RENUBOX的LINE"></a>
       <a href="#"><img src="/images/main-pic/twitter-icon.png" alt="RENUBOX的twitter"></a>
    </div>




   <div class="container">
       <div class="footer-item">
           <h4>RENUBOX</h4>
           <nav>
               <a href="#"><i class="fa fa-angle-right"></i> 台北市大安區信義路三段220號12F</a>
               <a href="#"><i class="fa fa-angle-right"></i> (02)23326052</a>
               <a href="#"><i class="fa fa-angle-right"></i> 來信洽詢</a>
           </nav>
       </div>
       <div class="footer-item">
           <h4>關於我們</h4>
           <nav>
               <a href="./08.html"><i class="fa fa-angle-right"></i> 品牌使命</a>
               <a href="./08.html"><i class="fa fa-angle-right"></i> 醫療團隊</a>
               <a href="./08.html"><i class="fa fa-angle-right"></i> 安心證明</a>
           </nav>
       </div>
       <div class="footer-item">
           <h4>智能評估</h4>
           <nav>
               <a href="./pages/evaluate/06.html"><i class="fa fa-angle-right"></i> AI智能評估</a>
               <a href="./pages/projects/09.html"><i class="fa fa-angle-right"></i> 醫師諮詢</a>
               <a href="./pages/projects/09.html"><i class="fa fa-angle-right"></i> 營養師諮詢</a>
               <a href="./pages/projects/09.html"><i class="fa fa-angle-right"></i> 客製健康計畫</a>
           </nav>
       </div>

       <div class="footer-item">
           <h4>找功能</h4>
           <nav class="footer-goal">
               <a href="./05-2-2.html"><i class="fa fa-angle-right"></i> 體態管理</a>
               <a href="./05-2-2.html"><i class="fa fa-angle-right"></i> 抗老</a>
               <a href="./05-2-2.html"><i class="fa fa-angle-right"></i> 失眠焦慮</a>
               <a href="./05-2-2.html"><i class="fa fa-angle-right"></i> 營養補充</a>
               <a href="./05-2-2.html"><i class="fa fa-angle-right"></i> 健康飲食</a>
               <a href="./05-2-2.html"><i class="fa fa-angle-right"></i> 美容保養</a>
           </nav>
       </div>
       <div class="footer-item footer-subs">
           <h4>健康電子報</h4>
           <form>
               <input type="text" name="">
               <input type="submit" value="訂閱">
           </form>
       </div>
   </div>
   
</div>


</body>
</html>